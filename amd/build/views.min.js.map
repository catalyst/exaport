{"version":3,"sources":["../src/views.js"],"names":["exaportViewEdit","newItem","lastclicked","define","$","json","jqui","jquitp","modalFactory","modalEvents","dialogue","helpDialogue","defaultModalOptions","title","body","footer","exaportViewEditCreate","resetViewContent","blocks","val","parseJSON","myresume","type","portfolioDesignBlocks","empty","each","generateItem","appendTo","positionx","resetElementStates","updateBlockData","initAddItems","click","event","$input","find","target","is","prop","addClass","removeClass","addPersonalInfo","id","checkFields","data","block_title","fncheckbox","first","firstname","lncheckbox","lastname","picture","email","text","length","iframe","iframetextElement","contents","html","hide","saveBlockData","addHeadline","addText","addItem","i","clone","after","itemid","addCvInfo","resume_withfiles","resume_itemtype","attr","indexOf","addMedia","contentmedia","width","height","create_as_note","addBadge","ok","forInput","input","show","focus","filterItemsByTag","selectedTag","elementTags","categoryId","filterItemsByTitle","selectedIndex","toLowerCase","elementText","clearItemFilters","cancelAddEdit","children","not","positiony","push","extend","toJSON","$item","css","item","portfolioItems","itemData","ilink","link","$E","translate","itemPictures","filescount","imgWidth","imi","M","cfg","tempString","name","category","comments","competences","intro","append","print_text","trim","badge","imageUrl","description","bodyContent","addToHeader","attachments","resumeItems","educations","institution","qualname","startdate","enddate","qualdescription","employments","jobtitle","employer","positiondescription","certifications","date","publications","contribution","contributiondetails","url","profmembershipments","console","log","interests","k","file","fileurl","filename","blur","prependTo","editItemClick","deleteItemClick","change","unshared","$item_header","parents","remove","serializeArray","value","showPreloadinator","ajax","document","location","href","success","res","JSON","parse","hidePreloadinator","item_id","parent","action","sesskey","showDialog","modalTitle","initContentEdit","sortable","beforeStop","ui","receive","e","uiattr","closest","search","type_block","script","createElement","textContent","appendChild","on","update","handle","placeholder","forcePlaceholderSize","connectWith","stop","resetElements","draggable","connectToSortable","helper","preventDefault","trigger","content","setTitle","setBody","create","done","modal","element","tohide","fixedposition","now","preloadinatorTemplate","setTimeout","toshow","getRoot","shown","hidden","update_sharing","share_text","$form","ExabisEportfolio","load_grouplist","load_userlist","initialise"],"mappings":"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","sourcesContent":["var exaportViewEdit;\r\nvar newItem = null, lastclicked = null;\r\n\r\ndefine(['jquery',\r\n        'block_exaport/jquery-json',\r\n        'jqueryui',\r\n        'block_exaport/touchpunch',\r\n        'core/modal_factory',\r\n        'core/modal_events'],\r\n        function($, json, jqui, jquitp, modalFactory, modalEvents) {\r\n\r\n    var dialogue;\r\n    var helpDialogue;\r\n    var last_popup;\r\n\r\n    var defaultModalOptions = {\r\n        title: 'test title',\r\n        body: '',\r\n        footer: '',\r\n        //template: 'SAVE_CANCEL',\r\n        //type: 'SAVE_CANCEL',\r\n    };\r\n\r\n    var exaportViewEditCreate = function() {\r\n\r\n        var viewEdit = {\r\n            resetViewContent: function(){\r\n                // Load stored blocks.\r\n                var blocks = $('form :input[name=blocks]').val();\r\n                if (blocks) {\r\n                    blocks = $.parseJSON(blocks);\r\n                }\r\n                var myresume = $('form :input[name=myresume]').val();\r\n                if (myresume) {\r\n                    myresume = $.parseJSON(myresume);\r\n                }\r\n                if (!blocks) {\r\n                    // Start with headline.\r\n                    blocks = [{\r\n                        type: 'headline'\r\n                    }];\r\n                }\r\n                var portfolioDesignBlocks = $('.portfolioDesignBlocks');\r\n                portfolioDesignBlocks.empty();\r\n                $.each(blocks, function(){\r\n                    generateItem('new', this).appendTo(\r\n                        // Wenn vorhanden zur richtigen spalte hinzufügen, sonst immer zur 1ten.\r\n                        (this.positionx && portfolioDesignBlocks[this.positionx - 1]) ? portfolioDesignBlocks[this.positionx - 1] : portfolioDesignBlocks[0]\r\n                    );\r\n                });\r\n                resetElementStates();\r\n                updateBlockData();\r\n            },\r\n\r\n            initAddItems: function(title){\r\n                $('#add-items-list .add-item').click(function(event){\r\n                    var $input = $(this).find('input');\r\n\r\n                    if (!$(event.target).is(':input')) {\r\n                        // Toggle checkbox (if the user clicked the div and not the checkbox).\r\n                        $input.prop('checked', !$input.prop('checked'));\r\n                    }\r\n\r\n                    if ($input.prop('checked')) {\r\n                        $(this).addClass('checked');\r\n                    } else {\r\n                        $(this).removeClass('checked');\r\n                    }\r\n                });\r\n            },\r\n\r\n            addPersonalInfo: function(id) {\r\n                if (!this.checkFields()) {\r\n                    return;\r\n                }\r\n                if (id != -1) {\r\n                    newItem = lastclicked;\r\n                }\r\n                var data = {};\r\n                data.type = 'personal_information';\r\n                data.id = id;\r\n                data.block_title = $('#block_title').val();\r\n                // if ($('#firstname').attr('checked') == 'checked') {\r\n                var fncheckbox = $('.pieform input[name=\"fields\\[firstname\\]\"]').first();\r\n                if (fncheckbox !== undefined && fncheckbox.is(':checked')) {\r\n                    data.firstname = fncheckbox.val();\r\n                }\r\n                // if ($('#lastname').attr('checked') == 'checked') {\r\n                var lncheckbox = $('.pieform input[name=\"fields\\[lastname\\]\"]').first();\r\n                if (lncheckbox.is(':checked')) {\r\n                    data.lastname = lncheckbox.val();\r\n                }\r\n                data.picture = $('form input[name=picture]:checked').val();\r\n                data.email = $('form input[name=email]:checked').val();\r\n                // ...data.text = tinyMCE.get('block_intro').getContent();.\r\n                data.text = $('#id_block_intro').val();\r\n                // If it is tinyMCE: use #tinymce.\r\n                if ($('.mceEditor iframe').length) {\r\n                    var iframe = $('.mceEditor iframe');\r\n                    var iframetextElement = $('#tinymce', iframe.contents());\r\n                    if (iframetextElement.length) {\r\n                        data.text = iframetextElement.html();\r\n                    }\r\n                }\r\n                newItem.data('portfolio', data);\r\n                generateItem('update', $(newItem));\r\n                dialogue.hide();\r\n                newItem = null;\r\n                saveBlockData();\r\n            },\r\n\r\n            addHeadline: function(id) {\r\n                if (!this.checkFields()) {\r\n                    return;\r\n                }\r\n                if (id != -1) {\r\n                    newItem = lastclicked;\r\n                }\r\n                data = {};\r\n                data.text = $('#headline').val();\r\n                data.type = 'headline';\r\n                data.id = id;\r\n                newItem.data('portfolio', data);\r\n                generateItem('update', $(newItem));\r\n                // ...$E.last_popup.remove();.\r\n                newItem = null;\r\n                dialogue.hide();\r\n                saveBlockData();\r\n            },\r\n\r\n            addText: function(id) {\r\n                if (!this.checkFields()) {\r\n                    return;\r\n                }\r\n                if (id != -1) {\r\n                    newItem = lastclicked;\r\n                }\r\n                data = {};\r\n                data.type = 'text';\r\n                data.id = id;\r\n                data.block_title = $('#block_title').val();\r\n                // ...data.text = tinymce.get('block_text').getContent();.\r\n                data.text = $('#id_block_text').val();\r\n                // If it is tinyMCE: use #tinymce.\r\n                if ($('.mceEditor iframe').length) {\r\n                    var iframe = $('.mceEditor iframe');\r\n                    var iframetextElement = $('#tinymce', iframe.contents());\r\n                    if (iframetextElement.length) {\r\n                        data.text = iframetextElement.html();\r\n                    }\r\n                }\r\n                // ...data.text = $('#id_text').val();.\r\n                newItem.data('portfolio', data);\r\n                generateItem('update', $(newItem));\r\n                dialogue.hide();\r\n                newItem = null;\r\n                saveBlockData();\r\n            },\r\n\r\n            addItem: function(id) {\r\n                if (!this.checkFields()) {\r\n                    return;\r\n                }\r\n                if (id != -1) {\r\n                    newItem = lastclicked;\r\n                }\r\n                var i = 0;\r\n                $('#blockform input.add-item-checkbox:checked').each(function () {\r\n                    i = i + 1;\r\n                    if (i > 1) {\r\n                        var clone = $(newItem).clone();\r\n                        newItem.after(clone);\r\n                        newItem = clone;\r\n                    };\r\n                    data = {};\r\n                    data.type = 'item';\r\n                    data.itemid = $(this).val();\r\n                    newItem.data('portfolio', data);\r\n                    generateItem('update', $(newItem));\r\n                });\r\n                dialogue.hide();\r\n                newItem = null;\r\n                saveBlockData();\r\n            },\r\n\r\n            addCvInfo: function(id) {\r\n                if (!this.checkFields()) {\r\n                    return;\r\n                }\r\n                if (id != -1) {\r\n                    newItem = lastclicked;\r\n                }\r\n                var i = 0;\r\n                $('#blockform input.add-cvitem-checkbox:checked').each(function () {\r\n                    i = i + 1;\r\n                    if (i > 1) {\r\n                        var clone = $(newItem).clone();\r\n                        newItem.after(clone);\r\n                        newItem = clone;\r\n                    }\r\n                    data = {};\r\n                    data.type = 'cv_information';\r\n                    data.itemid = $(this).val();\r\n                    if ($('#blockform [name=\"add_withfiles\"]').is(\":checked\")) {\r\n                        data.resume_withfiles = 1;\r\n                    } else {\r\n                        data.resume_withfiles = 0;\r\n                    }\r\n                    data.resume_itemtype = $(this).attr('data-cvtype');\r\n                    var goalsSkills = ['goalspersonal', 'goalsacademic', 'goalcareers',\r\n                                       'skillspersonal', 'skillsacademic', 'skillscareers'];\r\n                    if (goalsSkills.indexOf(data.resume_itemtype) > -1) {\r\n                        data.itemid = null;\r\n                    }\r\n                    newItem.data('portfolio', data);\r\n                    generateItem('update', $(newItem));\r\n                });\r\n                dialogue.hide();\r\n                newItem = null;\r\n                saveBlockData();\r\n            },\r\n\r\n            addMedia: function(id) {\r\n                if (!this.checkFields()) {\r\n                    return;\r\n                }\r\n                if (id != -1) {\r\n                    newItem = lastclicked;\r\n                }\r\n                data = {};\r\n                data.block_title = $('#block_title').val();\r\n                data.type = 'media';\r\n                data.contentmedia = $('#block_media').val();\r\n                data.width = $('#block_width').val();\r\n                data.height = $('#block_height').val();\r\n                data.create_as_note = $('input[name=create_as_note]:checked').length ? 1 : 0;\r\n                data.id = id;\r\n                newItem.data('portfolio', data);\r\n                generateItem('update', $(newItem));\r\n                dialogue.hide();\r\n                newItem = null;\r\n                saveBlockData();\r\n            },\r\n\r\n            addBadge: function(id) {\r\n                if (!this.checkFields()) {\r\n                    return;\r\n                }\r\n                if (id != -1) {\r\n                    newItem = lastclicked;\r\n                }\r\n                var i = 0;\r\n                $('#blockform input[name=\"add_badges[]\"]:checked').each(function () {\r\n                    i = i + 1;\r\n                    if (i > 1) {\r\n                        var clone = $(newItem).clone();\r\n                        newItem.after(clone);\r\n                        newItem = clone;\r\n                    };\r\n                    data = {};\r\n                    data.type = 'badge';\r\n                    data.itemid = $(this).val();\r\n                    newItem.data('portfolio', data);\r\n                    generateItem('update', $(newItem));\r\n                });\r\n                dialogue.hide();\r\n                newItem = null;\r\n                saveBlockData();\r\n            },\r\n\r\n            checkFields: function() {\r\n                var ok = true;\r\n                $('#blockform .not-empty-check').each(function(){\r\n                    var forInput = $(this).attr('for');\r\n                    var input = $('#blockform').find('input[name=\"' + forInput + '\"]');\r\n                    if (input.length == 0) {\r\n                        // Input not found, ignore.\r\n                        $(this).hide();\r\n                        return;\r\n                    }\r\n                    if (input.val().length) {\r\n                        // Has value.\r\n                        $(this).hide();\r\n                        return;\r\n                    }\r\n                    // Show error.\r\n                    $(this).show();\r\n                    input.focus();\r\n                    ok = false;\r\n                    return false;\r\n                });\r\n\r\n                // All checks ok.\r\n                return ok;\r\n            },\r\n\r\n            filterItemsByTag: function() {\r\n                // Clear the search by title.\r\n                $('#filterByTitle').val('')\r\n                $('div.add-item-category').hide();\r\n                $('div.add-item').show();\r\n                $('div.add-item-sub').show();\r\n                $('tr.sharedArtefacts').show();\r\n                var selectedTag = $('.tagfilter').val();\r\n                if (selectedTag != '') {\r\n                    $('div.add-item').each(function() {\r\n                        var elementTags = $(this).data('tags');\r\n                        if (elementTags !== undefined) {\r\n                            if (elementTags.indexOf(selectedTag) == -1) {\r\n                                $(this).hide();\r\n                            }\r\n                        } else {\r\n                            $(this).hide();\r\n                        };\r\n                    });\r\n                } else {\r\n                    $('div.add-item-category, div.add-item-sub').show();\r\n                };\r\n                // Hide category names if it has no visible artefact.\r\n                $('div.add-item-sub').each(function(){\r\n                    if ($(this).find('div.add-item:visible').length == 0) {\r\n                        $(this).hide();\r\n                    };\r\n                });\r\n                $('div.add-item:visible').each(function() {\r\n                    var categoryId = $(this).data('category');\r\n                    $('div.add-item-category[data-category=\"' + categoryId + '\"]').show();\r\n                });\r\n                // List of shared artefacts.\r\n                if ($('div.add-item[data-category=\"sharedFromUser\"]:visible').length == 0) {\r\n                    $('tr.sharedArtefacts').hide();\r\n                }\r\n            },\r\n\r\n            filterItemsByTitle: function() {\r\n                // Reset filter by tag.\r\n                if ($('.tagfilter').length) {\r\n                    $('.tagfilter')[0].selectedIndex = 0;\r\n                }\r\n                var text = $('#blockform #filterByTitle').val().toLowerCase();\r\n                $('div.add-item-category').hide();\r\n                $('div.add-item').show();\r\n                $('div.add-item-sub').show();\r\n                $('tr.sharedArtefacts').show();\r\n                if (text != '') {\r\n                    $('div.add-item:visible').each(function() {\r\n                        var elementText = $(this).text();\r\n                        if (elementText.toLowerCase().indexOf(text) > -1) {\r\n                            $(this).show();\r\n                        } else {\r\n                            $(this).hide();\r\n                        };\r\n                    });\r\n                } else {\r\n                    $('div.add-item-category, div.add-item-sub').show();\r\n                };\r\n                // Hide category names if it has no visible artefact.\r\n                $('div.add-item-sub').each(function() {\r\n                    if ($(this).find('div.add-item:visible').length == 0) {\r\n                        $(this).hide();\r\n                    };\r\n                });\r\n                $('div.add-item:visible').each(function(){\r\n                    var categoryId = $(this).data('category');\r\n                    $('div.add-item-category[data-category=\"' + categoryId + '\"]').show();\r\n                });\r\n                // List of shared artefacts.\r\n                if ($('div.add-item[data-category=\"sharedFromUser\"]:visible').length == 0) {\r\n                    $('tr.sharedArtefacts').hide();\r\n                }\r\n            },\r\n\r\n            clearItemFilters: function() {\r\n                if ($('.tagfilter').length) {\r\n                    $('.tagfilter')[0].selectedIndex = 0;\r\n                }\r\n                $('#blockform #filterByTitle').val('');\r\n                exaportViewEdit.filterItemsByTitle();\r\n            },\r\n\r\n            cancelAddEdit: function() {\r\n                dialogue.hide();\r\n                updateBlockData();\r\n            },\r\n\r\n        }\r\n        return viewEdit;\r\n    };\r\n\r\n    function resetElementStates()\r\n    {\r\n        $('.portfolioOptions li').removeClass('selected');\r\n        $('.portfolioDesignBlocks > li').each(function() {\r\n            $('.portfolioOptions li[itemid=' + $(this).data('portfolio').itemid + ']').addClass('selected');\r\n        });\r\n    }\r\n\r\n    function updateBlockData()\r\n    {\r\n        var blocks = [];\r\n        $('.portfolioDesignBlocks').each(function(positionx) {\r\n            // Immediate li children, because content can have li too.\r\n            $(this).children('li:visible').not('.block-placeholder').each(function(positiony) {\r\n                blocks.push($.extend($(this).data('portfolio'), {\r\n                    positionx: positionx + 1,\r\n                    positiony: positiony + 1\r\n                }));\r\n            });\r\n        });\r\n\r\n        var input = $('form :input[name=blocks]');\r\n        input.val($.toJSON(blocks));\r\n    };\r\n\r\n    function generateItem(type, data)\r\n    {\r\n        var $item;\r\n        if (type == 'new') {\r\n            $item = $('<li></li>');\r\n            $item.data('portfolio', data);\r\n        } else {\r\n            $item = $(data);\r\n\r\n            data = $item.data('portfolio');\r\n            if (!data) {\r\n                data = {};\r\n                if ($item.attr('itemid')) {\r\n                    data.type = 'item';\r\n                    data.itemid = $item.attr('itemid');\r\n                } else {\r\n                    data.type = $item.attr('block-type');\r\n                    if ($item.attr('text')) {\r\n                        data.text = $item.attr('text');\r\n                    }\r\n                    if ($item.attr('block_title')) {\r\n                        data.block_title = $item.attr('block_title');\r\n                    }\r\n                    if ($item.attr('firstname')) {\r\n                        data.firstname = $item.attr('firstname');\r\n                    }\r\n                    if ($item.attr('lastname')) {\r\n                        data.lastname = $item.attr('lastname');\r\n                    }\r\n                    if ($item.attr('picture')) {\r\n                        data.picture = $item.attr('picture');\r\n                    }\r\n                    if ($item.attr('email')) {\r\n                        data.email = $item.attr('email');\r\n                    }\r\n                }\r\n                // Store data.\r\n                $item.data('portfolio', data);\r\n            }\r\n        }\r\n\r\n        $item.addClass('item');\r\n        $item.css('position', 'relative');\r\n        /*\r\n        Bug, wenn auf relativ setzen\r\n        if ($.browser.msie) {\r\n            $item.css('height', '1%');\r\n        }.\r\n        */\r\n        var header_content = '';\r\n        if (data.itemid && !data.item && portfolioItems && portfolioItems[data.itemid]) {\r\n            data.item = portfolioItems[data.itemid];\r\n        }\r\n        if (data.type == 'item' && data.itemid && data.item) {\r\n            var itemData = data.item;\r\n            var ilink = itemData.link;\r\n            if (ilink != \"\") {\r\n                ilink = $E.translate('link') + ': ' + ilink + '<br />';\r\n            }\r\n\r\n            var itemPictures = '';\r\n            if (itemData.filescount > 1) {\r\n                var imgWidth = 40;\r\n                if (itemData.filescount > 3) {\r\n                    imgWidth = 35;\r\n                }\r\n                if (itemData.filescount > 5) {\r\n                    imgWidth = 30;\r\n                }\r\n                itemPictures += '<div class=\"pictureset\" style=\"float:right; position: relative; text-align: right; max-width: 150px;\">';\r\n                for (var imi = 0; imi < itemData.filescount; imi++) {\r\n                    if (imi && imi % 5 === 0) {\r\n                        itemPictures += '<br />';\r\n                    }\r\n                    // itemPictures += '<div class=\"picture\" style=\"float:right; position: relative; height: '+imgWidth+'px; width: '+imgWidth+'px;\">';\r\n                    itemPictures += '<div class=\"picture\" style=\"float:right; height: '+imgWidth+'px; width: '+imgWidth+'px;\">';\r\n                    itemPictures += '<img style=\"max-width: 100%; max-height: 100%;\" src=\"' + M.cfg['wwwroot'] + '/blocks/exaport/item_thumb.php?item_id=' + itemData.id + '&imindex='+imi+'\">';\r\n                    itemPictures += '</div>';\r\n                }\r\n                itemPictures += '</div>';\r\n            } else {\r\n                itemPictures += '<div class=\"picture\" style=\"float:right; position: relative; height: 100px; width: 100px;\">';\r\n                itemPictures += '<img style=\"max-width: 100%; max-height: 100%;\" src=\"' + M.cfg['wwwroot'] + '/blocks/exaport/item_thumb.php?item_id=' + itemData.id + '\">';\r\n                itemPictures += '</div>';\r\n            }\r\n\r\n            var tempString = '';\r\n            tempString += '<div id=\"id_holder\" style=\"display:none;\"></div> ';\r\n            tempString += '<div class=\"item_info\" style=\"overflow: hidden;\">';\r\n            tempString += '<div class=\"header\">' + $E.translate('viewitem') + ': ' + itemData.name + '</div>';\r\n            tempString += itemPictures;\r\n            tempString += '<div class=\"body\">' + $E.translate('type') + ': ' + $E.translate(itemData.type) + '<br />';\r\n            tempString += $E.translate('category') + ': ' + itemData.category + '<br />' + ilink;\r\n            tempString += $E.translate('comments') + ': ' + itemData.comments + '<div class=\"exaport-item-intro\"></div>';\r\n            if (itemData.competences) {\r\n                tempString += '<script type=\"text/javascript\" src=\"javascript/wz_tooltip.js\"></script><a onmouseover=\"Tip(\\'' + itemData.competences + '\\')\" onmouseout=\"UnTip()\"><img src=\"' + M.cfg['wwwroot'] + '/pix/t/grades.png\" class=\"iconsmall\" alt=\"' + 'competences' + '\" /></a>';\r\n            };\r\n            tempString += '</div></div>';\r\n            $item.html(tempString);\r\n            if (!itemData.competences) {\r\n                // User html may be malformed, so savely inject it here.\r\n                $item.find('.exaport-item-intro').html(itemData.intro);\r\n            }\r\n        } else if (data.type == 'personal_information') {\r\n            var tempString = '<div id=\"id_holder\" style=\"display:none;\"></div>';\r\n            tempString += '<div class=\"personal_info\" style=\"overflow: hidden;\">';\r\n            tempString += '<div class=\"header\">' + $E.translate('personalinformation') + ': </div>';\r\n            tempString += '<div class=\"picture\" style=\"float:right; position: relative;\"></div>';\r\n            tempString += '<div class=\"name\"></div>';\r\n            tempString += '<div class=\"email\"></div>';\r\n            tempString += '<div class=\"body\"></div>';\r\n            tempString += '</div>';\r\n            $item.html(tempString);\r\n            $item.find('div.header').append(data.block_title);\r\n            if (data.picture != '' && data.picture != null) {\r\n                $item.find('div.picture').append('<img src=\"' + data.picture + '\">');\r\n            }\r\n            $item.find('div.name').append(data.firstname); $item.find('div.name').append(' ');\r\n            $item.find('div.name').append(data.lastname);\r\n            $item.find('div.email').append(data.email);\r\n            $item.find('div.body').append(data.print_text);\r\n        } else if (data.type == 'headline') {\r\n            var tempString = '<div id=\"id_holder\" style=\"display:none;\"></div>';\r\n            tempString += '<div class=\"header\">' + $E.translate('view_specialitem_headline') + '<div class=\"body\"></div></div>';\r\n            $item.html(tempString);\r\n            $item.find('div.body').append(data.print_text);\r\n        } else if (data.type == 'media') {\r\n            var tempString = '<div id=\"id_holder\" style=\"display:none;\"></div>';\r\n            tempString += '<div class=\"header\"></div><div class=\"body\"></div>';\r\n            $item.html(tempString);\r\n            $item.find('div.header').append($E.translate('view_specialitem_media') + ($.trim(data.block_title).length ? ': ' + data.block_title : ''));\r\n            $item.find('div.body').append(data.contentmedia);\r\n        } else if (data.type == 'badge') {\r\n            if (typeof data.badge == 'undefined') {\r\n                $item.html('loading');\r\n            } else {\r\n                var badge = data.badge;\r\n                var tempString = '<div id=\"id_holder\" style=\"display:none;\"></div>';\r\n                tempString += '<div class=\"item_info\" style=\"overflow: hidden;\">';\r\n                tempString += '<div class=\"header\">' + $E.translate('view_specialitem_badge') + ': ' + badge.name + '</div>';\r\n                tempString += '<div class=\"picture\" style=\"float:right; position: relative; height: 100px; width: 100px;\">';\r\n                tempString += '<img style=\"max-width: 100%; max-height: 100%;\" src=\"' + badge.imageUrl + '\">';\r\n                tempString += '</div>';\r\n                tempString += '<div class=\"body\">' + badge.description + '</div>';\r\n                    /*\t\t\t\t+\r\n                                    '</div>' +\r\n                                    '<div class=\"body\">'+$E.translate('type')+': '+$E.translate(itemData.type)+'<br />' +\r\n                                    $E.translate('category')+': '+itemData.category+'<br />' + ilink +\r\n                                    $E.translate('comments')+': '+itemData.comments+'<br />' + itemData.intro +\r\n                                    '</div>\r\n                                    */\r\n                $item.html(tempString);\r\n            }\r\n        } else if (data.type == 'cv_information') {\r\n            data.item = null;\r\n            var bodyContent = '';\r\n            var titleContent = '';\r\n            var addToHeader = '';\r\n            var attachments = [];\r\n            switch (data.resume_itemtype) {\r\n                case 'edu':\r\n                    addToHeader = $E.translate('cofigureblock_cvinfo_education_history');\r\n                    if (data.itemid && resumeItems && resumeItems.educations[data.itemid]) {\r\n                        itemData = resumeItems.educations[data.itemid];\r\n                        attachments = itemData.attachments;\r\n                        var description = '';\r\n                        description += '<span class=\"edu_institution\">' + itemData.institution + ':</span> ';\r\n                        description += '<span class=\"edu_qualname\">' + itemData.qualname + '</span>';\r\n                        if (itemData.startdate != '' || itemData.enddate != '') {\r\n                            description += ' (';\r\n                            if (itemData.startdate != '') {\r\n                                description += '<span class=\"edu_startdate\">' + itemData.startdate + '</span>';\r\n                            }\r\n                            if (itemData.enddate != '') {\r\n                                description += '<span class=\"edu_enddate\"> - ' + itemData.enddate + '</span>';\r\n                            }\r\n                            description += ')';\r\n                        }\r\n                        if (itemData.qualdescription != '') {\r\n                            description += '<span class=\"edu_qualdescription\">' + itemData.qualdescription + '</span>';\r\n                        }\r\n                        bodyContent = description;\r\n                    }\r\n                    break;\r\n                case 'employ':\r\n                    addToHeader = $E.translate('cofigureblock_cvinfo_employment_history');\r\n                    if (data.itemid && resumeItems && resumeItems.employments[data.itemid]) {\r\n                        itemData = resumeItems.employments[data.itemid];\r\n                        attachments = itemData.attachments;\r\n                        var description = '';\r\n                        description += '<span class=\"employ_jobtitle\">' + itemData.jobtitle + ':</span> ';\r\n                        description += '<span class=\"employ_employer\">' + itemData.employer + '</span>';\r\n                        if (itemData.startdate != '' || itemData.enddate != '') {\r\n                            description += ' (';\r\n                            if (itemData.startdate != '') {\r\n                                description += '<span class=\"employ_startdate\">' + itemData.startdate + '</span>';\r\n                            }\r\n                            if (itemData.enddate != '') {\r\n                                description += '<span class=\"employ_enddate\"> - ' + itemData.enddate + '</span>';\r\n                            }\r\n                            description += ')';\r\n                        }\r\n                        if (itemData.positiondescription != '') {\r\n                            description += '<span class=\"employ_positiondescription\">' + itemData.positiondescription + '</span>';\r\n                        }\r\n                        bodyContent = description;\r\n                    }\r\n                    break;\r\n                case 'certif':\r\n                    addToHeader = $E.translate('cofigureblock_cvinfo_certif');\r\n                    if (data.itemid && resumeItems && resumeItems.certifications[data.itemid]) {\r\n                        itemData = resumeItems.certifications[data.itemid];\r\n                        attachments = itemData.attachments;\r\n                        var description = '';\r\n                        description += '<span class=\"certif_title\">' + itemData.title + '</span> ';\r\n                        if (itemData.date != '') {\r\n                            description += '<span class=\"certif_date\">(' + itemData.date + ')</span>';\r\n                        }\r\n                        if (itemData.description != '') {\r\n                            description += '<span class=\"certif_description\">' + itemData.description + '</span>';\r\n                        }\r\n                        bodyContent = description;\r\n                    }\r\n                    break;\r\n                case 'public':\r\n                    addToHeader = $E.translate('cofigureblock_cvinfo_public');\r\n                    if (data.itemid && resumeItems && resumeItems.publications[data.itemid]) {\r\n                        itemData = resumeItems.publications[data.itemid];\r\n                        attachments = itemData.attachments;\r\n                        var description = '';\r\n                        description += '<span class=\"public_title\">' + itemData.title;\r\n                        if (itemData.contribution != '') {\r\n                            description += ' (' + itemData.contribution + ')';\r\n                        }\r\n                        description += '</span> ';\r\n                        if (itemData.date != '') {\r\n                            description += '<span class=\"public_date\">(' + itemData.date + ')</span>';\r\n                        }\r\n                        if (itemData.contributiondetails != '' || itemData.url != '') {\r\n                            description += '<span class=\"public_description\">';\r\n                            if (itemData.contributiondetails != '') {\r\n                                description += itemData.contributiondetails;\r\n                            }\r\n                            if (itemData.url != '') {\r\n                                description += '<br /><a href=\"' + itemData.url + '\" class=\"public_url\" target=\"_blank\">' + itemData.url + '</a>';\r\n                            }\r\n                            description += '</span>';\r\n                        }\r\n                        bodyContent = description;\r\n                    }\r\n                    break;\r\n                case 'mbrship':\r\n                    addToHeader = $E.translate('cofigureblock_cvinfo_mbrship');\r\n                    if (data.itemid && resumeItems && resumeItems.profmembershipments[data.itemid]) {\r\n                        itemData = resumeItems.profmembershipments[data.itemid];\r\n                        attachments = itemData.attachments;\r\n                        var description = '';\r\n                        description += '<span class=\"mbrship_title\">' + itemData.title + '</span> ';\r\n                        if (itemData.startdate != '' || itemData.enddate != '') {\r\n                            description += ' (';\r\n                            if (itemData.startdate != '') {\r\n                                description += '<span class=\"mbrship_startdate\">' + itemData.startdate + '</span>';\r\n                            }\r\n                            if (itemData.enddate != '') {\r\n                                description += '<span class=\"mbrship_enddate\"> - ' + itemData.enddate + '</span>';\r\n                            }\r\n                            description += ')';\r\n                        }\r\n                        if (itemData.description != '') {\r\n                            description += '<span class=\"mbrship_description\">' + itemData.description + '</span>';\r\n                        }\r\n                        bodyContent = description;\r\n                    }\r\n                    break;\r\n                case 'goalspersonal':\r\n                case 'goalsacademic':\r\n                case 'goalscareers':\r\n                case 'skillspersonal':\r\n                case 'skillsacademic':\r\n                case 'skillscareers':\r\n                    attachments = resumeItems[data.resume_itemtype + '_attachments'];\r\n                    console.log(resumeItems);\r\n                    console.log(data.resume_itemtype + '_attachments');\r\n                    addToHeader = $E.translate('resume_' + data.resume_itemtype);\r\n                    var description = '';\r\n                    if (resumeItems['' + data.resume_itemtype]) {\r\n                        description += '<span class=\"' + data.resume_itemtype + '_text\">' + resumeItems['' + data.resume_itemtype] + '</span> ';\r\n                    }\r\n                    bodyContent = description;\r\n                    break;\r\n                case 'interests':\r\n                    addToHeader = $E.translate('cofigureblock_cvinfo_interests');\r\n                    var description = '';\r\n                    if (resumeItems.interests != '') {\r\n                        description += '<span class=\"interests\">' + resumeItems.interests + '</span> ';\r\n                    }\r\n                    bodyContent = description;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            if (data.resume_withfiles == \"1\" && attachments && attachments.length) {\r\n                bodyContent += '<ul class=\"resume_attachments ' + data.resume_itemtype + '_attachments\">';\r\n                $.each(attachments, function (k, file) {\r\n                    bodyContent += '<li><a href=\"' + file.fileurl + '\" target=\"_blank\">' + file.filename + '</a></li>';\r\n                })\r\n                bodyContent += '</ul>';\r\n            }\r\n\r\n            var tempString = '<div id=\"id_holder\" style=\"display:none;\"></div>';\r\n            tempString += '<div class=\"cv_info\" style=\"overflow: hidden;\">';\r\n            tempString += '<div class=\"header\">' + $E.translate('cvinformation') + ': ' + addToHeader + '</div>';\r\n            tempString += '<div class=\"body\">' + bodyContent + '</div>';\r\n            tempString += '</div>';\r\n            $item.html(tempString);\r\n        } else {\r\n            data.type = 'text';\r\n            var tempString = '<div id=\"id_holder\" style=\"display:none;\"></div>';\r\n            tempString += '<div class=\"header\"></div>';\r\n            tempString += '<div class=\"body\"><p class=\"text\" ' + $E.translate('view_specialitem_text_defaulttext') + '\"></p></div>';\r\n            $item.html(tempString);\r\n            $item.find('div.header').append($E.translate('view_specialitem_text') + ($.trim(data.block_title).length ? ': ' + data.block_title : ''));\r\n            $item.find('div.body').append(data.print_text);\r\n        }\r\n\r\n        // Insert default texts.\r\n        $item.find(':input[default-text]').focus(function(){\r\n            $(this).removeClass('default-text');\r\n            if ($(this).attr('default-text') == $(this).val()) {\r\n                $(this).val('');\r\n            }\r\n        }).blur(function(){\r\n            if (!$.trim($(this).val())) {\r\n                $(this).addClass('default-text');\r\n                $(this).val($(this).attr('default-text'));\r\n            }\r\n        }).blur();\r\n        $item.find('div#id_holder').append(data.id);\r\n\r\n        if (type == 'new') {\r\n            // No edit button for items, badges and resume items.\r\n            var typesWithoutEditButton = ['item', 'badge', 'cv_information'];\r\n            // if ((data.type != 'item') && (data.type != 'badge')) {\r\n            if (!(typesWithoutEditButton.indexOf(data.type) > -1)) {\r\n                $('<a class=\"edit\" title=\"Edit\"><span>Edit</span></a>').prependTo($item).click(editItemClick);\r\n            }\r\n        }\r\n        else {\r\n            $item.append('<a class=\"unsaved\" title=\"This block was not saved\"><span>Unsaved</span></a>');\r\n        }\r\n        $('<a class=\"delete\" title=\"' + $E.translate('delete') + '\"><span>' + $E.translate('delete') + '</span></a>').prependTo($item).click(deleteItemClick);\r\n        $item.find(':input').change(function() {\r\n            $item.data('portfolio').text = $(this).val();\r\n        });\r\n        updateBlockData();\r\n        // Unshared blocks.\r\n        if (data.unshared == 1) {\r\n            $item.find('div.item_info').addClass('unshared_block');\r\n            $item_header = $item.find('div.header').html();\r\n            $item.find('div.header').html($item_header + '<span class=\"unshared_message\">Unshared</span>');\r\n        }\r\n        return $item;\r\n    }\r\n\r\n    // Click on 'delete' block.\r\n    function deleteItemClick()\r\n    {\r\n        $(this).parents('.item').remove();\r\n        resetElementStates();\r\n        updateBlockData();\r\n    }\r\n\r\n    function saveBlockData() {\r\n        var data = $('form#view_edit_form').serializeArray();\r\n        data.push({name: 'ajax', value: 1});\r\n        showPreloadinator($('#view-preview'), '', true);\r\n        $.ajax({\r\n            url: document.location.href,\r\n            type: 'POST',\r\n            data: data,\r\n            success: function(res) {\r\n                var data = JSON.parse(res);\r\n                $('form :input[name=blocks]').val(data.blocks);\r\n                exaportViewEdit.resetViewContent();\r\n                hidePreloadinator($('#view-preview'), '');\r\n            }\r\n        });\r\n    }\r\n\r\n    function editItemClick()\r\n    {\r\n        var item_id = $(this).parent().find(\"#id_holder\").html();\r\n        lastclicked = $(this).parent();\r\n        showPreloadinator(lastclicked, '', false);\r\n        $.ajax({\r\n            url: M.cfg['wwwroot'] + '/blocks/exaport/blocks.json.php',\r\n            type: 'POST',\r\n            data: {\r\n                item_id: item_id,\r\n                action: 'edit',\r\n                'viewid': $('form :input[name=viewid]').val(),\r\n                'text[itemid]': $('form :input[name=draft_itemid]').val(),\r\n                sesskey: $('form :input[name=sesskey]').val()\r\n            },\r\n            success: function(res) {\r\n                var data = JSON.parse(res);\r\n\r\n                showDialog(data.modalTitle, data.html);\r\n                // Focus first element.\r\n                // ...popup.$body.find('input:visible:first').focus();.\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    // Main function -> will be started on page load.\r\n    var initContentEdit = function() {\r\n\r\n        exaportViewEdit = exaportViewEditCreate();\r\n        exaportViewEdit.resetViewContent();\r\n\r\n        $(\".portfolioDesignBlocks\").sortable({\r\n            beforeStop: function (event, ui) {\r\n                newItem = ui.item;\r\n            },\r\n            receive: function(e, ui){\r\n\r\n                console.log('start to modal!');\r\n\r\n                // Get ajax only for item from the top block.\r\n                var uiattr = $(ui.item[0]).closest('ul').prop(\"className\");\r\n                if (uiattr.search(\"portfolioDesignBlocks\") == -1) {\r\n                    $.ajax({\r\n                        url: M.cfg['wwwroot'] + '/blocks/exaport/blocks.json.php',\r\n                        type: 'POST',\r\n                        data: {\r\n                            type_block: ui.item.attr('block-type'),\r\n                            action: 'add',\r\n                            'viewid': $('form :input[name=viewid]').val(),\r\n                            'text[itemid]': $('form :input[name=draft_itemid]').val(),\r\n                            sesskey: $('form :input[name=sesskey]').val()\r\n                        },\r\n                        success: function(res) {\r\n                            var data = JSON.parse (res);\r\n\r\n                            showDialog(data.modalTitle, data.html);\r\n\r\n                            // ...var popup = $E.popup({ bodyContent: data.html, onhide: function(){\r\n                            // if (newItem) $(newItem).remove();\r\n                            // } });\r\n                            // focus first element\r\n                            // $E.last_popup.$body.find('input:visible:first').focus();.\r\n\r\n                            // Create a <script> tag from result.\r\n                            $('#temp_javascript').remove();\r\n                            var script = document.createElement('script');\r\n                            $(script).attr('id', 'temp_javascript');\r\n                            // console.log(data.script);\r\n                            script.textContent = data.script;\r\n                            document.body.appendChild(script);\r\n\r\n                            $('body').on('change keydown paste input', '#filterByTitle', exaportViewEdit.filterItemsByTitle);\r\n                        }\r\n                    });\r\n                    updateBlockData();\r\n                }\r\n            },\r\n            update: function(e, ui) {\r\n                updateBlockData();\r\n            },\r\n            handle: '.header',\r\n            placeholder: \"block-placeholder\",\r\n            forcePlaceholderSize: true,\r\n            connectWith: ['.portfolioDesignBlocks'],\r\n        });\r\n        $(\".portfolioOptions\").sortable({\r\n            connectWith: ['.portfolioDesignBlocks'],\r\n            placeholder: \"block-placeholder\",\r\n            forcePlaceholderSize: true,\r\n            stop: function(e, ui) {\r\n                // Listenelemente zurücksetzen.\r\n                resetElements();\r\n            }\r\n            /*\r\n            remove: function(e, ui){\r\n                console.log(ui);\r\n                console.log(ui.element.html());\r\n                // ui.item.after(ui.placeholder.clone().css('visibility', ''));\r\n                console.log('remove');\r\n            }\r\n            */\r\n        });\r\n        $(\".portfolioElement\").draggable({\r\n            connectToSortable: '.portfolioDesignBlocks',\r\n            placeholder: \".block-placeholder\",\r\n            forcePlaceholderSize: true,\r\n            helper: \"clone\",\r\n            stop: function(e, ui){\r\n                showPreloadinator($(ui.helper), '', false);\r\n            }\r\n        });\r\n        $('body').on('click', '[data-toggle=\"gtn-help-modal\"]', function(e) {\r\n            e.preventDefault();\r\n            var trigger = $(this);\r\n            var title = $(this).attr('data-title');\r\n            var content = $(this).attr('data-content');\r\n            if (helpDialogue) {\r\n                helpDialogue.setTitle(title);\r\n                helpDialogue.setBody(content);\r\n                helpDialogue.show();\r\n            } else {\r\n                modalFactory.create({\r\n                    title: title,\r\n                    body: content,\r\n                    footer: '',\r\n                }, trigger).done(function (modal) {\r\n                    helpDialogue = modal;\r\n                    helpDialogue.setTitle(title);\r\n                    helpDialogue.setBody(content);\r\n                    // Display the dialogue.\r\n                    helpDialogue.show();\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n    } // End initContentEdit.\r\n\r\n    function showPreloadinator(element, tohide, fixedposition) {\r\n        var id = 'preloader' + $.now();\r\n        var preloadinatorTemplate = '<div id=\"' + id + '\" class=\"preloader ' + (fixedposition ? 'preloader-fixed' : '') + ' js-preloader flex-center\">' +\r\n                '<div class=\"dots\">'+\r\n                    '<div class=\"dot\"></div>'+\r\n                    '<div class=\"dot\"></div>'+\r\n                    '<div class=\"dot\"></div>'+\r\n                '</div>'+\r\n            '</div>';\r\n        if (tohide != '') {\r\n            element.find(tohide).hide();\r\n        }\r\n        element.append(preloadinatorTemplate);\r\n        // hide element on very long requests\r\n        setTimeout('$(\\'#' + id + '\\').remove();', 15000); // 15 seconds\r\n\r\n    } // End showPreloadinator\r\n\r\n    function hidePreloadinator(element, toshow) {\r\n        if (toshow != '') {\r\n            $(element).find('.blocktype').show();\r\n        }\r\n        $(element).find('.preloader').remove();\r\n    } // End hidePreloadinator\r\n\r\n    function showDialog(title, body) {\r\n        if (dialogue) {\r\n            dialogue.setTitle(title);\r\n            dialogue.setBody(body);\r\n            // Display the dialogue.\r\n            dialogue.show();\r\n        } else {\r\n            modalFactory.create(defaultModalOptions).done(function (modal) {\r\n                dialogue = modal;\r\n                dialogue.setTitle(title);\r\n                dialogue.setBody(body);\r\n                // Display the dialogue.\r\n                dialogue.show();\r\n                // On show handler\r\n                /*dialogue.getRoot().on(modalEvents.shown, function () {\r\n                    console.log('modal is shown');\r\n                    console.log(data);\r\n                    dialogue.setTitle(data.modalTitle);\r\n                    dialogue.setBody(data.html);\r\n                });*/\r\n                // On show handler. (for slow requests)\r\n                dialogue.getRoot().on(modalEvents.shown, function () {\r\n                    hidePreloadinator(newItem, '.blocktype');\r\n                    hidePreloadinator(lastclicked, '');\r\n                    console.log('modal is shown');\r\n                });\r\n                // On hide handler.\r\n                dialogue.getRoot().on(modalEvents.hidden, function () {\r\n                    // Empty modal contents when it's hidden.\r\n                    // console.log('modal is hidden');\r\n                    dialogue.setBody('');\r\n                    // Hide handler.\r\n                    if (newItem) {\r\n                        $(newItem).remove();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    // Sharing.\r\n    function update_sharing()\r\n    {\r\n        var share_text = '';\r\n        var $form = $('#exaport-view-mod');\r\n\r\n        if ($form.find(':input[name=externaccess]').is(':checked')) {\r\n            share_text += $E.translate('externalaccess') + ' ';\r\n            $('#externaccess-settings').show();\r\n        } else {\r\n            $('#externaccess-settings').hide();\r\n        }\r\n\r\n        if ($form.find(':input[name=internaccess]').is(':checked')) {\r\n            $('#internaccess-settings').show();\r\n            $('#internaccess-groups').hide();\r\n            if (share_text) {\r\n                share_text += ' ' + $E.translate('viewand') + ' ';\r\n            }\r\n            share_text += $E.translate('internalaccess') + ': ';\r\n\r\n            if ($form.find(':input[name=shareall]:checked').val() == 1) {\r\n                share_text += $E.translate('internalaccessall');\r\n                $('#internaccess-users').hide();\r\n                $('#internaccess-groups').hide();\r\n            } else if ($form.find(':input[name=shareall]:checked').val() == 2) {\r\n                share_text += $E.translate('internalaccessgroups');\r\n                $('#internaccess-users').hide();\r\n                $('#internaccess-groups').show();\r\n                ExabisEportfolio.load_grouplist('views_mod');\r\n            } else {\r\n                share_text += $E.translate('internalaccessusers');\r\n                $('#internaccess-groups').hide();\r\n                $('#internaccess-users').show();\r\n                ExabisEportfolio.load_userlist('views_mod');\r\n            }\r\n        } else {\r\n            $('#internaccess-settings').hide();\r\n        }\r\n\r\n        if ($form.find(':input[name=sharedemails]').is(':checked')) {\r\n            if (share_text) {\r\n                share_text += ' ' + $E.translate('viewand') + ' ';\r\n            };\r\n            share_text += $E.translate('emailaccess') + ' ';\r\n            $('#emailaccess-settings').show();\r\n        } else {\r\n            $('#emailaccess-settings').hide();\r\n        };\r\n\r\n        if (!share_text) {\r\n            share_text = $E.translate('view_sharing_noaccess');\r\n        }\r\n        $('#view-share-text').html(share_text);\r\n    }\r\n\r\n    /*var initialise = function($params) {\r\n            console.log('exaport AMD loaded');\r\n            initContentEdit();\r\n            // for sharing of views\r\n            // changing the checkboxes / radiobuttons update the sharing text, visible options, etc.\r\n            $('.view-sharing input[type=checkbox], .view-sharing input[type=radio]').click(update_sharing);\r\n            update_sharing();\r\n        };\r\n        return initialise();.\r\n    */\r\n\r\n    // MAIN code of MODULE.\r\n    return {\r\n        initialise: function ($params) {\r\n            // console.log('exaport AMD loaded');\r\n            initContentEdit();\r\n            // For sharing of views\r\n            // changing the checkboxes / radiobuttons update the sharing text, visible options, etc.\r\n            $('.view-sharing input[type=checkbox], .view-sharing input[type=radio]').click(update_sharing);\r\n            update_sharing();\r\n        },\r\n    };\r\n\r\n});\r\n"],"file":"views.min.js"}